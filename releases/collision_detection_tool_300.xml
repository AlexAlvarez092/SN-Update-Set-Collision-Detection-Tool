<?xml version="1.0" encoding="UTF-8"?><unload unload_date="2023-04-20 14:27:27">
<sys_remote_update_set action="INSERT_OR_UPDATE">
<application display_value="Global">global</application>
<application_name>Global</application_name>
<application_scope>global</application_scope>
<application_version/>
<collisions/>
<commit_date/>
<deleted/>
<description>Detect collisions between update sets</description>
<inserted/>
<name>Update Set - Collision Detection Tool</name>
<origin_sys_id/>
<parent display_value=""/>
<release_date/>
<remote_base_update_set display_value=""/>
<remote_parent_id/>
<remote_sys_id>220cc44e1b562110c30243f8cd4bcb8c</remote_sys_id>
<state>loaded</state>
<summary/>
<sys_class_name>sys_remote_update_set</sys_class_name>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-04-20 14:27:27</sys_created_on>
<sys_id>ab1c848e1b562110c30243f8cd4bcbb9</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-04-20 14:27:27</sys_updated_on>
<update_set display_value=""/>
<update_source display_value=""/>
<updated/>
</sys_remote_update_set>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>DELETE</action>
<application display_value="Update Set - Collision Detection Tool">a8cbf2ed1b630110be17a9b4bd4bcbf7</application>
<category>customer</category>
<comments/>
<name>sys_properties_0c2e36ed1b630110be17a9b4bd4bcb89</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_properties"><sys_properties action="DELETE"><choices/><description>Exclude update sets updated before</description><ignore_cache>true</ignore_cache><is_private>false</is_private><name>collision_detection.set.exclude_updated_before</name><read_roles/><suffix/><sys_class_name>sys_properties</sys_class_name><sys_created_by>alealvar</sys_created_by><sys_created_on>2022-05-19 01:04:39</sys_created_on><sys_id>0c2e36ed1b630110be17a9b4bd4bcb89</sys_id><sys_mod_count>0</sys_mod_count><sys_name>collision_detection.set.exclude_updated_before</sys_name><sys_package display_value="Update Set - Collision Detection Tool" source="a8cbf2ed1b630110be17a9b4bd4bcbf7">a8cbf2ed1b630110be17a9b4bd4bcbf7</sys_package><sys_policy/><sys_scope display_value="Update Set - Collision Detection Tool">a8cbf2ed1b630110be17a9b4bd4bcbf7</sys_scope><sys_update_name>sys_properties_0c2e36ed1b630110be17a9b4bd4bcb89</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-04-20 08:13:06</sys_updated_on><type>boolean</type><value>true</value><write_roles>admin</write_roles></sys_properties><sys_translated_text action="delete_multiple" query="documentkey=0c2e36ed1b630110be17a9b4bd4bcb89"/></record_update>]]></payload>
<payload_hash>1606225987</payload_hash>
<remote_update_set display_value="Update Set - Collision Detection Tool">ab1c848e1b562110c30243f8cd4bcbb9</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-04-20 14:27:27</sys_created_on>
<sys_id>231c848e1b562110c30243f8cd4bcbba</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1879f0fd6a30000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-04-20 14:27:27</sys_updated_on>
<table/>
<target_name>collision_detection.set.exclude_updated_before</target_name>
<type>System Property</type>
<update_domain>global</update_domain>
<update_guid/>
<update_guid_history/>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Update Set - Collision Detection Tool">a8cbf2ed1b630110be17a9b4bd4bcbf7</application>
<category>customer</category>
<comments/>
<name>sys_ui_message_72affa211ba30110be17a9b4bd4bcb6a</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ui_message"><sys_ui_message action="INSERT_OR_UPDATE"><application>Update Set - Collision Detection Tool</application><code/><commented_message/><key>collision_detection.set.warning</key><language>en</language><message>&lt;b&gt;WARNING:&lt;/b&gt; Potential conflicts found &amp;#10142; &lt;a target='_blank' href='/sys_update_set_list.do?sysparm_query=sys_idIN{0}'&gt;More Info&lt;/a&gt;</message><sys_class_name>sys_ui_message</sys_class_name><sys_created_by>alealvar</sys_created_by><sys_created_on>2022-05-19 01:11:35</sys_created_on><sys_id>72affa211ba30110be17a9b4bd4bcb6a</sys_id><sys_mod_count>0</sys_mod_count><sys_name>collision_detection.set.warning</sys_name><sys_package display_value="Update Set - Collision Detection Tool" source="a8cbf2ed1b630110be17a9b4bd4bcbf7">a8cbf2ed1b630110be17a9b4bd4bcbf7</sys_package><sys_policy/><sys_scope display_value="Update Set - Collision Detection Tool">a8cbf2ed1b630110be17a9b4bd4bcbf7</sys_scope><sys_update_name>sys_ui_message_72affa211ba30110be17a9b4bd4bcb6a</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-04-20 08:13:07</sys_updated_on></sys_ui_message></record_update>]]></payload>
<payload_hash>612785448</payload_hash>
<remote_update_set display_value="Update Set - Collision Detection Tool">ab1c848e1b562110c30243f8cd4bcbb9</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-04-20 14:27:27</sys_created_on>
<sys_id>231c848e1b562110c30243f8cd4bcbbd</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1879f0fd6850000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-04-20 14:27:27</sys_updated_on>
<table/>
<target_name>collision_detection.set.warning</target_name>
<type>Message</type>
<update_domain>global</update_domain>
<update_guid/>
<update_guid_history/>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Update Set - Collision Detection Tool">a8cbf2ed1b630110be17a9b4bd4bcbf7</application>
<category>customer</category>
<comments/>
<name>sys_ui_action_role_b2b283651ba30110be17a9b4bd4bcb8d</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ui_action_role"><sys_ui_action_role action="INSERT_OR_UPDATE"><sys_class_name>sys_ui_action_role</sys_class_name><sys_created_by>alealvar</sys_created_by><sys_created_on>2022-05-19 01:26:39</sys_created_on><sys_id>b2b283651ba30110be17a9b4bd4bcb8d</sys_id><sys_mod_count>0</sys_mod_count><sys_name>.admin</sys_name><sys_package display_value="Update Set - Collision Detection Tool" source="a8cbf2ed1b630110be17a9b4bd4bcbf7">a8cbf2ed1b630110be17a9b4bd4bcbf7</sys_package><sys_policy/><sys_scope display_value="Update Set - Collision Detection Tool">a8cbf2ed1b630110be17a9b4bd4bcbf7</sys_scope><sys_ui_action display_value="Conflicts detection">d9b20ba51ba30110be17a9b4bd4bcbe9</sys_ui_action><sys_update_name>sys_ui_action_role_b2b283651ba30110be17a9b4bd4bcb8d</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-04-20 08:13:07</sys_updated_on><sys_user_role display_value="admin" name="admin">2831a114c611228501d4ea6c309d626d</sys_user_role></sys_ui_action_role></record_update>]]></payload>
<payload_hash>71736876</payload_hash>
<remote_update_set display_value="Update Set - Collision Detection Tool">ab1c848e1b562110c30243f8cd4bcbb9</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-04-20 14:27:27</sys_created_on>
<sys_id>271c848e1b562110c30243f8cd4bcbbc</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1879f0fd6630000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-04-20 14:27:27</sys_updated_on>
<table/>
<target_name>.admin</target_name>
<type>UI Action Role</type>
<update_domain>global</update_domain>
<update_guid/>
<update_guid_history/>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Update Set - Collision Detection Tool">a8cbf2ed1b630110be17a9b4bd4bcbf7</application>
<category>customer</category>
<comments/>
<name>sys_script_bc2003e11ba30110be17a9b4bd4bcb62</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script"&gt;&lt;sys_script action="INSERT_OR_UPDATE"&gt;&lt;abort_action&gt;false&lt;/abort_action&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;action_delete&gt;false&lt;/action_delete&gt;&lt;action_insert&gt;false&lt;/action_insert&gt;&lt;action_query&gt;false&lt;/action_query&gt;&lt;action_update&gt;false&lt;/action_update&gt;&lt;active&gt;true&lt;/active&gt;&lt;add_message&gt;false&lt;/add_message&gt;&lt;advanced&gt;true&lt;/advanced&gt;&lt;change_fields&gt;false&lt;/change_fields&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;collection&gt;sys_metadata&lt;/collection&gt;&lt;condition&gt;gs.getProperty('collision_detection.app_file.active', 'false') ===  'true'&lt;/condition&gt;&lt;description/&gt;&lt;execute_function&gt;false&lt;/execute_function&gt;&lt;filter_condition/&gt;&lt;is_rest&gt;false&lt;/is_rest&gt;&lt;message/&gt;&lt;name&gt;Collision detection [App file]&lt;/name&gt;&lt;order&gt;10000&lt;/order&gt;&lt;priority&gt;100&lt;/priority&gt;&lt;rest_method/&gt;&lt;rest_method_text/&gt;&lt;rest_service/&gt;&lt;rest_service_text/&gt;&lt;rest_variables/&gt;&lt;role_conditions/&gt;&lt;script&gt;&lt;![CDATA[(function executeRule(current, previous /*null when async*/) {

    var utils = new CollisionDetectionUtils();
    var res = utils.fileScanner(current);

    if (res) {
        res.forEach(function (conflict) {
            var params = [conflict.name, conflict.owner, conflict.created, conflict.url];
            var msg = gs.getMessage("collision_detection.app_file.warning", params);
            gs.addErrorMessage(msg);
        });
    }

})(current, previous);]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script&lt;/sys_class_name&gt;&lt;sys_created_by&gt;alealvar&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2022-05-19 01:13:11&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;bc2003e11ba30110be17a9b4bd4bcb62&lt;/sys_id&gt;&lt;sys_mod_count&gt;2&lt;/sys_mod_count&gt;&lt;sys_name&gt;Collision detection [App file]&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Update Set - Collision Detection Tool" source="a8cbf2ed1b630110be17a9b4bd4bcbf7"&gt;a8cbf2ed1b630110be17a9b4bd4bcbf7&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Update Set - Collision Detection Tool"&gt;a8cbf2ed1b630110be17a9b4bd4bcbf7&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_bc2003e11ba30110be17a9b4bd4bcb62&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2023-04-20 10:33:20&lt;/sys_updated_on&gt;&lt;template/&gt;&lt;when&gt;before_display&lt;/when&gt;&lt;/sys_script&gt;&lt;sys_translated_text action="delete_multiple" query="documentkey=bc2003e11ba30110be17a9b4bd4bcb62"/&gt;&lt;/record_update&gt;</payload>
<payload_hash>2031195052</payload_hash>
<remote_update_set display_value="Update Set - Collision Detection Tool">ab1c848e1b562110c30243f8cd4bcbb9</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-04-20 14:27:27</sys_created_on>
<sys_id>2b1c848e1b562110c30243f8cd4bcbbb</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1879f0fd6c40000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-04-20 14:27:27</sys_updated_on>
<table>sys_metadata</table>
<target_name>Collision detection [App file]</target_name>
<type>Business Rule</type>
<update_domain>global</update_domain>
<update_guid/>
<update_guid_history/>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Update Set - Collision Detection Tool">a8cbf2ed1b630110be17a9b4bd4bcbf7</application>
<category>customer</category>
<comments/>
<name>sys_properties_82cdf6ed1b630110be17a9b4bd4bcbcd</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_properties"><sys_properties action="INSERT_OR_UPDATE"><choices/><description>Exclude your own update sets</description><ignore_cache>true</ignore_cache><is_private>false</is_private><name>collision_detection.app_file.exclude_your_own_sets</name><read_roles/><suffix/><sys_class_name>sys_properties</sys_class_name><sys_created_by>alealvar</sys_created_by><sys_created_on>2022-05-19 01:03:22</sys_created_on><sys_id>82cdf6ed1b630110be17a9b4bd4bcbcd</sys_id><sys_mod_count>0</sys_mod_count><sys_name>collision_detection.app_file.exclude_your_own_sets</sys_name><sys_package display_value="Update Set - Collision Detection Tool" source="a8cbf2ed1b630110be17a9b4bd4bcbf7">a8cbf2ed1b630110be17a9b4bd4bcbf7</sys_package><sys_policy/><sys_scope display_value="Update Set - Collision Detection Tool">a8cbf2ed1b630110be17a9b4bd4bcbf7</sys_scope><sys_update_name>sys_properties_82cdf6ed1b630110be17a9b4bd4bcbcd</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-04-20 08:13:07</sys_updated_on><type>boolean</type><value>false</value><write_roles>admin</write_roles></sys_properties><sys_translated_text action="delete_multiple" query="documentkey=82cdf6ed1b630110be17a9b4bd4bcbcd"/></record_update>]]></payload>
<payload_hash>-41621439</payload_hash>
<remote_update_set display_value="Update Set - Collision Detection Tool">ab1c848e1b562110c30243f8cd4bcbb9</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-04-20 14:27:27</sys_created_on>
<sys_id>2f1c848e1b562110c30243f8cd4bcbba</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1879f0fd6430000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-04-20 14:27:27</sys_updated_on>
<table/>
<target_name>collision_detection.app_file.exclude_your_own_sets</target_name>
<type>System Property</type>
<update_domain>global</update_domain>
<update_guid/>
<update_guid_history/>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Update Set - Collision Detection Tool">a8cbf2ed1b630110be17a9b4bd4bcbf7</application>
<category>customer</category>
<comments/>
<name>sys_ui_action_d9b20ba51ba30110be17a9b4bd4bcbe9</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_ui_action"&gt;&lt;sys_ui_action action="INSERT_OR_UPDATE"&gt;&lt;action_name&gt;collision_detection&lt;/action_name&gt;&lt;active&gt;true&lt;/active&gt;&lt;client&gt;false&lt;/client&gt;&lt;client_script_v2&gt;&lt;![CDATA[function onClick(g_form) {

}]]&gt;&lt;/client_script_v2&gt;&lt;comments/&gt;&lt;condition&gt;gs.getProperty('collision_detection.app_file.active', 'false') === 'true' &lt;/condition&gt;&lt;form_action&gt;true&lt;/form_action&gt;&lt;form_button&gt;false&lt;/form_button&gt;&lt;form_button_v2&gt;false&lt;/form_button_v2&gt;&lt;form_context_menu&gt;false&lt;/form_context_menu&gt;&lt;form_link&gt;true&lt;/form_link&gt;&lt;form_menu_button_v2&gt;false&lt;/form_menu_button_v2&gt;&lt;form_style/&gt;&lt;format_for_configurable_workspace&gt;false&lt;/format_for_configurable_workspace&gt;&lt;hint&gt;Run a scanner finding potential conflicts with other update sets&lt;/hint&gt;&lt;isolate_script&gt;false&lt;/isolate_script&gt;&lt;list_action&gt;false&lt;/list_action&gt;&lt;list_banner_button&gt;false&lt;/list_banner_button&gt;&lt;list_button&gt;false&lt;/list_button&gt;&lt;list_choice&gt;false&lt;/list_choice&gt;&lt;list_context_menu&gt;false&lt;/list_context_menu&gt;&lt;list_link&gt;false&lt;/list_link&gt;&lt;list_save_with_form_button&gt;false&lt;/list_save_with_form_button&gt;&lt;list_style/&gt;&lt;messages&gt;collision_detection.set.warning&amp;#13;
collision_detection.set.ok&lt;/messages&gt;&lt;name&gt;Conflicts detection&lt;/name&gt;&lt;onclick/&gt;&lt;order&gt;10000&lt;/order&gt;&lt;script&gt;&lt;![CDATA[var ids = new CollisionDetectionUtils().setScanner(current);

var msg = ids ?
    gs.getMessage("collision_detection.set.warning", ids.toString()) :
    gs.getMessage("collision_detection.set.ok");

action.setRedirectURL(current);
ids 
	? gs.addErrorMessage(msg) 
	: gs.addInfoMessage(msg);]]&gt;&lt;/script&gt;&lt;show_insert&gt;true&lt;/show_insert&gt;&lt;show_multiple_update&gt;false&lt;/show_multiple_update&gt;&lt;show_query&gt;false&lt;/show_query&gt;&lt;show_update&gt;true&lt;/show_update&gt;&lt;sys_class_name&gt;sys_ui_action&lt;/sys_class_name&gt;&lt;sys_created_by&gt;alealvar&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2022-05-19 01:26:40&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;d9b20ba51ba30110be17a9b4bd4bcbe9&lt;/sys_id&gt;&lt;sys_mod_count&gt;2&lt;/sys_mod_count&gt;&lt;sys_name&gt;Conflicts detection&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Update Set - Collision Detection Tool" source="a8cbf2ed1b630110be17a9b4bd4bcbf7"&gt;a8cbf2ed1b630110be17a9b4bd4bcbf7&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Update Set - Collision Detection Tool"&gt;a8cbf2ed1b630110be17a9b4bd4bcbf7&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ui_action_d9b20ba51ba30110be17a9b4bd4bcbe9&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2023-04-20 10:35:05&lt;/sys_updated_on&gt;&lt;table&gt;sys_update_set&lt;/table&gt;&lt;ui11_compatible&gt;true&lt;/ui11_compatible&gt;&lt;ui16_compatible&gt;false&lt;/ui16_compatible&gt;&lt;/sys_ui_action&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1558831147</payload_hash>
<remote_update_set display_value="Update Set - Collision Detection Tool">ab1c848e1b562110c30243f8cd4bcbb9</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-04-20 14:27:27</sys_created_on>
<sys_id>631c848e1b562110c30243f8cd4bcbbc</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1879f0fd6e80000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-04-20 14:27:27</sys_updated_on>
<table>sys_update_set</table>
<target_name>Conflicts detection</target_name>
<type>UI Action</type>
<update_domain>global</update_domain>
<update_guid/>
<update_guid_history/>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Update Set - Collision Detection Tool">a8cbf2ed1b630110be17a9b4bd4bcbf7</application>
<category>customer</category>
<comments/>
<name>sys_script_58410f251ba30110be17a9b4bd4bcbf5</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script"&gt;&lt;sys_script action="INSERT_OR_UPDATE"&gt;&lt;abort_action&gt;false&lt;/abort_action&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;action_delete&gt;false&lt;/action_delete&gt;&lt;action_insert&gt;false&lt;/action_insert&gt;&lt;action_query&gt;false&lt;/action_query&gt;&lt;action_update&gt;false&lt;/action_update&gt;&lt;active&gt;true&lt;/active&gt;&lt;add_message&gt;false&lt;/add_message&gt;&lt;advanced&gt;true&lt;/advanced&gt;&lt;change_fields&gt;false&lt;/change_fields&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;collection&gt;sys_update_set&lt;/collection&gt;&lt;condition&gt;gs.getProperty('collision_detection.set.active', 'false') === 'true'&lt;/condition&gt;&lt;description/&gt;&lt;execute_function&gt;false&lt;/execute_function&gt;&lt;filter_condition table="sys_update_set"&gt;state=complete^release_dateISNOTEMPTY^EQ&lt;item display_value="Complete" endquery="false" field="state" goto="false" newquery="false" operator="=" or="false" value="complete"/&gt;&lt;item endquery="false" field="release_date" goto="false" newquery="false" operator="ISNOTEMPTY" or="false" value=""/&gt;&lt;item endquery="true" field="" goto="false" newquery="false" operator="=" or="false" value=""/&gt;&lt;/filter_condition&gt;&lt;is_rest&gt;false&lt;/is_rest&gt;&lt;message/&gt;&lt;name&gt;Conflicts detection [Update set]&lt;/name&gt;&lt;order&gt;10000&lt;/order&gt;&lt;priority&gt;100&lt;/priority&gt;&lt;rest_method/&gt;&lt;rest_method_text/&gt;&lt;rest_service/&gt;&lt;rest_service_text/&gt;&lt;rest_variables/&gt;&lt;role_conditions/&gt;&lt;script&gt;&lt;![CDATA[(function executeRule(current, previous /*null when async*/ ) {

    var ids = CollisionDetectionUtils.setScanner(current);

    if (ids) {
        var msg = gs.getMessage('collision_detection.set.warning', ids.toString());
        gs.addErrorMessage(msg);
    }

})(current, previous);]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script&lt;/sys_class_name&gt;&lt;sys_created_by&gt;alealvar&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2022-05-19 01:19:34&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;58410f251ba30110be17a9b4bd4bcbf5&lt;/sys_id&gt;&lt;sys_mod_count&gt;2&lt;/sys_mod_count&gt;&lt;sys_name&gt;Conflicts detection [Update set]&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Update Set - Collision Detection Tool" source="a8cbf2ed1b630110be17a9b4bd4bcbf7"&gt;a8cbf2ed1b630110be17a9b4bd4bcbf7&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Update Set - Collision Detection Tool"&gt;a8cbf2ed1b630110be17a9b4bd4bcbf7&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_58410f251ba30110be17a9b4bd4bcbf5&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2023-04-20 10:33:48&lt;/sys_updated_on&gt;&lt;template/&gt;&lt;when&gt;before_display&lt;/when&gt;&lt;/sys_script&gt;&lt;sys_translated_text action="delete_multiple" query="documentkey=58410f251ba30110be17a9b4bd4bcbf5"/&gt;&lt;/record_update&gt;</payload>
<payload_hash>764160665</payload_hash>
<remote_update_set display_value="Update Set - Collision Detection Tool">ab1c848e1b562110c30243f8cd4bcbb9</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-04-20 14:27:27</sys_created_on>
<sys_id>671c848e1b562110c30243f8cd4bcbbb</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1879f0fd6d40000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-04-20 14:27:27</sys_updated_on>
<table>sys_update_set</table>
<target_name>Conflicts detection [Update set]</target_name>
<type>Business Rule</type>
<update_domain>global</update_domain>
<update_guid/>
<update_guid_history/>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Update Set - Collision Detection Tool">a8cbf2ed1b630110be17a9b4bd4bcbf7</application>
<category>customer</category>
<comments/>
<name>sys_properties_78f04f251ba30110be17a9b4bd4bcb05</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_properties"><sys_properties action="INSERT_OR_UPDATE"><choices/><description>Enable / disable the feature</description><ignore_cache>true</ignore_cache><is_private>false</is_private><name>collision_detection.set.active</name><read_roles/><suffix/><sys_class_name>sys_properties</sys_class_name><sys_created_by>alealvar</sys_created_by><sys_created_on>2022-05-19 01:17:10</sys_created_on><sys_id>78f04f251ba30110be17a9b4bd4bcb05</sys_id><sys_mod_count>0</sys_mod_count><sys_name>collision_detection.set.active</sys_name><sys_package display_value="Update Set - Collision Detection Tool" source="a8cbf2ed1b630110be17a9b4bd4bcbf7">a8cbf2ed1b630110be17a9b4bd4bcbf7</sys_package><sys_policy/><sys_scope display_value="Update Set - Collision Detection Tool">a8cbf2ed1b630110be17a9b4bd4bcbf7</sys_scope><sys_update_name>sys_properties_78f04f251ba30110be17a9b4bd4bcb05</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-04-20 08:13:06</sys_updated_on><type>boolean</type><value>true</value><write_roles>admin</write_roles></sys_properties><sys_translated_text action="delete_multiple" query="documentkey=78f04f251ba30110be17a9b4bd4bcb05"/></record_update>]]></payload>
<payload_hash>463498354</payload_hash>
<remote_update_set display_value="Update Set - Collision Detection Tool">ab1c848e1b562110c30243f8cd4bcbb9</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-04-20 14:27:27</sys_created_on>
<sys_id>6b1c848e1b562110c30243f8cd4bcbba</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1879f0fd6200000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-04-20 14:27:27</sys_updated_on>
<table/>
<target_name>collision_detection.set.active</target_name>
<type>System Property</type>
<update_domain>global</update_domain>
<update_guid/>
<update_guid_history/>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Update Set - Collision Detection Tool">a8cbf2ed1b630110be17a9b4bd4bcbf7</application>
<category>customer</category>
<comments/>
<name>sys_app_a8cbf2ed1b630110be17a9b4bd4bcbf7</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_app"><sys_app action="INSERT_OR_UPDATE"><active>true</active><can_edit_in_studio>true</can_edit_in_studio><enforce_license>log</enforce_license><guided_setup_guid/><hide_on_ui>false</hide_on_ui><installed_as_dependency>false</installed_as_dependency><js_level>helsinki_es5</js_level><licensable>true</licensable><license/><license_category>none</license_category><license_definition/><license_model>none</license_model><logo/><menu/><name>Update Set - Collision Detection Tool</name><private>false</private><restrict_table_access>false</restrict_table_access><runtime_access_tracking>permissive</runtime_access_tracking><scope>global</scope><scoped_administration>false</scoped_administration><short_description>Detect collisions between update sets</short_description><source>a8cbf2ed1b630110be17a9b4bd4bcbf7</source><store_correlation_id/><store_url/><sys_class_name>sys_app</sys_class_name><sys_code/><sys_created_by>alealvar</sys_created_by><sys_created_on>2022-05-19 00:54:02</sys_created_on><sys_id>a8cbf2ed1b630110be17a9b4bd4bcbf7</sys_id><sys_mod_count>1</sys_mod_count><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-04-20 14:27:07</sys_updated_on><template/><trackable>true</trackable><uninstall_blocked>false</uninstall_blocked><user_role/><vendor/><vendor_prefix/><version>3.0.0</version></sys_app><sys_translated_text action="delete_multiple" query="documentkey=a8cbf2ed1b630110be17a9b4bd4bcbf7"/></record_update>]]></payload>
<payload_hash>-753685949</payload_hash>
<remote_update_set display_value="Update Set - Collision Detection Tool">ab1c848e1b562110c30243f8cd4bcbb9</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-04-20 14:27:27</sys_created_on>
<sys_id>6f1c848e1b562110c30243f8cd4bcbb9</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1879f0fd5f70000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-04-20 14:27:27</sys_updated_on>
<table/>
<target_name>Update Set - Collision Detection Tool</target_name>
<type>Custom Application</type>
<update_domain>global</update_domain>
<update_guid/>
<update_guid_history/>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Update Set - Collision Detection Tool">a8cbf2ed1b630110be17a9b4bd4bcbf7</application>
<category>customer</category>
<comments/>
<name>sys_ui_message_68c40f291ba30110be17a9b4bd4bcb2a</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ui_message"><sys_ui_message action="INSERT_OR_UPDATE"><application>Update Set - Collision Detection Tool</application><code/><commented_message/><key>collision_detection.set.ok</key><language>en</language><message>No conflicts found!</message><sys_class_name>sys_ui_message</sys_class_name><sys_created_by>alealvar</sys_created_by><sys_created_on>2022-05-19 01:33:40</sys_created_on><sys_id>68c40f291ba30110be17a9b4bd4bcb2a</sys_id><sys_mod_count>0</sys_mod_count><sys_name>collision_detection.set.ok</sys_name><sys_package display_value="Update Set - Collision Detection Tool" source="a8cbf2ed1b630110be17a9b4bd4bcbf7">a8cbf2ed1b630110be17a9b4bd4bcbf7</sys_package><sys_policy/><sys_scope display_value="Update Set - Collision Detection Tool">a8cbf2ed1b630110be17a9b4bd4bcbf7</sys_scope><sys_update_name>sys_ui_message_68c40f291ba30110be17a9b4bd4bcb2a</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-04-20 08:13:07</sys_updated_on></sys_ui_message></record_update>]]></payload>
<payload_hash>1166890576</payload_hash>
<remote_update_set display_value="Update Set - Collision Detection Tool">ab1c848e1b562110c30243f8cd4bcbb9</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-04-20 14:27:27</sys_created_on>
<sys_id>6f1c848e1b562110c30243f8cd4bcbbc</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1879f0fd6370000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-04-20 14:27:27</sys_updated_on>
<table/>
<target_name>collision_detection.set.ok</target_name>
<type>Message</type>
<update_domain>global</update_domain>
<update_guid/>
<update_guid_history/>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Update Set - Collision Detection Tool">a8cbf2ed1b630110be17a9b4bd4bcbf7</application>
<category>customer</category>
<comments/>
<name>sys_properties_c96dfe211ba30110be17a9b4bd4bcbe8</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_properties"><sys_properties action="INSERT_OR_UPDATE"><choices/><description>Exclude update sets markes as default</description><ignore_cache>true</ignore_cache><is_private>false</is_private><name>collision_detection.app_file.exclude_default</name><read_roles/><suffix/><sys_class_name>sys_properties</sys_class_name><sys_created_by>alealvar</sys_created_by><sys_created_on>2022-05-19 01:01:54</sys_created_on><sys_id>c96dfe211ba30110be17a9b4bd4bcbe8</sys_id><sys_mod_count>0</sys_mod_count><sys_name>collision_detection.app_file.exclude_default</sys_name><sys_package display_value="Update Set - Collision Detection Tool" source="a8cbf2ed1b630110be17a9b4bd4bcbf7">a8cbf2ed1b630110be17a9b4bd4bcbf7</sys_package><sys_policy/><sys_scope display_value="Update Set - Collision Detection Tool">a8cbf2ed1b630110be17a9b4bd4bcbf7</sys_scope><sys_update_name>sys_properties_c96dfe211ba30110be17a9b4bd4bcbe8</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-04-20 08:13:07</sys_updated_on><type>boolean</type><value>true</value><write_roles>admin</write_roles></sys_properties><sys_translated_text action="delete_multiple" query="documentkey=c96dfe211ba30110be17a9b4bd4bcbe8"/></record_update>]]></payload>
<payload_hash>517883299</payload_hash>
<remote_update_set display_value="Update Set - Collision Detection Tool">ab1c848e1b562110c30243f8cd4bcbb9</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-04-20 14:27:27</sys_created_on>
<sys_id>a31c848e1b562110c30243f8cd4bcbbb</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1879f0fd6700000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-04-20 14:27:27</sys_updated_on>
<table/>
<target_name>collision_detection.app_file.exclude_default</target_name>
<type>System Property</type>
<update_domain>global</update_domain>
<update_guid/>
<update_guid_history/>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Update Set - Collision Detection Tool">a8cbf2ed1b630110be17a9b4bd4bcbf7</application>
<category>customer</category>
<comments/>
<name>sys_properties_5dfdfaed1b630110be17a9b4bd4bcb04</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_properties"><sys_properties action="INSERT_OR_UPDATE"><choices/><description>Exclude update sets markes as default</description><ignore_cache>true</ignore_cache><is_private>false</is_private><name>collision_detection.set.exclude_default</name><read_roles/><suffix>collision_detection.set.exclude_default</suffix><sys_class_name>sys_properties</sys_class_name><sys_created_by>alealvar</sys_created_by><sys_created_on>2022-05-19 01:04:01</sys_created_on><sys_id>5dfdfaed1b630110be17a9b4bd4bcb04</sys_id><sys_mod_count>0</sys_mod_count><sys_name>collision_detection.set.exclude_default</sys_name><sys_package display_value="Update Set - Collision Detection Tool" source="a8cbf2ed1b630110be17a9b4bd4bcbf7">a8cbf2ed1b630110be17a9b4bd4bcbf7</sys_package><sys_policy/><sys_scope display_value="Update Set - Collision Detection Tool">a8cbf2ed1b630110be17a9b4bd4bcbf7</sys_scope><sys_update_name>sys_properties_5dfdfaed1b630110be17a9b4bd4bcb04</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-04-20 08:13:06</sys_updated_on><type>boolean</type><value>true</value><write_roles>admin</write_roles></sys_properties><sys_translated_text action="delete_multiple" query="documentkey=5dfdfaed1b630110be17a9b4bd4bcb04"/></record_update>]]></payload>
<payload_hash>1943257390</payload_hash>
<remote_update_set display_value="Update Set - Collision Detection Tool">ab1c848e1b562110c30243f8cd4bcbb9</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-04-20 14:27:27</sys_created_on>
<sys_id>a71c848e1b562110c30243f8cd4bcbba</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1879f0fd62d0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-04-20 14:27:27</sys_updated_on>
<table/>
<target_name>collision_detection.set.exclude_default</target_name>
<type>System Property</type>
<update_domain>global</update_domain>
<update_guid/>
<update_guid_history/>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Update Set - Collision Detection Tool">a8cbf2ed1b630110be17a9b4bd4bcbf7</application>
<category>customer</category>
<comments/>
<name>sys_ui_message_306f3ea11ba30110be17a9b4bd4bcbe0</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ui_message"><sys_ui_message action="INSERT_OR_UPDATE"><application>Update Set - Collision Detection Tool</application><code/><commented_message/><key>collision_detection.app_file.warning</key><language>en</language><message>&lt;b&gt;WARNING:&lt;/b&gt; Potential conflict with update set &lt;a href="/{3}"&gt;{0}&lt;/a&gt;. Created by:  {1} on {2}</message><sys_class_name>sys_ui_message</sys_class_name><sys_created_by>alealvar</sys_created_by><sys_created_on>2022-05-19 01:10:45</sys_created_on><sys_id>306f3ea11ba30110be17a9b4bd4bcbe0</sys_id><sys_mod_count>0</sys_mod_count><sys_name>collision_detection.app_file.warning</sys_name><sys_package display_value="Update Set - Collision Detection Tool" source="a8cbf2ed1b630110be17a9b4bd4bcbf7">a8cbf2ed1b630110be17a9b4bd4bcbf7</sys_package><sys_policy/><sys_scope display_value="Update Set - Collision Detection Tool">a8cbf2ed1b630110be17a9b4bd4bcbf7</sys_scope><sys_update_name>sys_ui_message_306f3ea11ba30110be17a9b4bd4bcbe0</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-04-20 08:13:07</sys_updated_on></sys_ui_message></record_update>]]></payload>
<payload_hash>-429222233</payload_hash>
<remote_update_set display_value="Update Set - Collision Detection Tool">ab1c848e1b562110c30243f8cd4bcbb9</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-04-20 14:27:27</sys_created_on>
<sys_id>ab1c848e1b562110c30243f8cd4bcbbc</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1879f0fd67b0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-04-20 14:27:27</sys_updated_on>
<table/>
<target_name>collision_detection.app_file.warning</target_name>
<type>Message</type>
<update_domain>global</update_domain>
<update_guid/>
<update_guid_history/>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>DELETE</action>
<application display_value="Update Set - Collision Detection Tool">a8cbf2ed1b630110be17a9b4bd4bcbf7</application>
<category>customer</category>
<comments/>
<name>sys_ui_action_22434be11ba30110be17a9b4bd4bcb80</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_ui_action"&gt;&lt;sys_ui_action action="DELETE"&gt;&lt;action_name&gt;collision_detection_released&lt;/action_name&gt;&lt;active&gt;true&lt;/active&gt;&lt;client&gt;false&lt;/client&gt;&lt;client_script_v2&gt;&lt;![CDATA[function onClick(g_form) {

}]]&gt;&lt;/client_script_v2&gt;&lt;comments/&gt;&lt;condition&gt;gs.getProperty('collision_detection.app_file.active', 'false') === 'true'  &amp;amp;&amp;amp; current.getValue('state') === 'complete'&lt;/condition&gt;&lt;form_action&gt;true&lt;/form_action&gt;&lt;form_button&gt;false&lt;/form_button&gt;&lt;form_button_v2&gt;false&lt;/form_button_v2&gt;&lt;form_context_menu&gt;false&lt;/form_context_menu&gt;&lt;form_link&gt;true&lt;/form_link&gt;&lt;form_menu_button_v2&gt;false&lt;/form_menu_button_v2&gt;&lt;form_style/&gt;&lt;format_for_configurable_workspace&gt;false&lt;/format_for_configurable_workspace&gt;&lt;hint&gt;Run a scanner finding potential conflicts with other update sets&lt;/hint&gt;&lt;isolate_script&gt;false&lt;/isolate_script&gt;&lt;list_action&gt;false&lt;/list_action&gt;&lt;list_banner_button&gt;false&lt;/list_banner_button&gt;&lt;list_button&gt;false&lt;/list_button&gt;&lt;list_choice&gt;false&lt;/list_choice&gt;&lt;list_context_menu&gt;false&lt;/list_context_menu&gt;&lt;list_link&gt;false&lt;/list_link&gt;&lt;list_save_with_form_button&gt;false&lt;/list_save_with_form_button&gt;&lt;list_style/&gt;&lt;messages&gt;collision_detection.set.warning&amp;#13;
collision_detection.set.ok&lt;/messages&gt;&lt;name&gt;Conflicts detection [Released]&lt;/name&gt;&lt;onclick/&gt;&lt;order&gt;10000&lt;/order&gt;&lt;script&gt;&lt;![CDATA[var query = 'state=complete^release_dateISEMPTY';

var ids = new CollisionDetectionUtils().setScanner(current, query);

var msg = ids ?
    gs.getMessage("collision_detection.set.warning", ids.toString()) :
    gs.getMessage("collision_detection.set.ok");

action.setRedirectURL(current);
ids ? gs.addErrorMessage(msg) : gs.addInfoMessage(msg);]]&gt;&lt;/script&gt;&lt;show_insert&gt;true&lt;/show_insert&gt;&lt;show_multiple_update&gt;false&lt;/show_multiple_update&gt;&lt;show_query&gt;false&lt;/show_query&gt;&lt;show_update&gt;true&lt;/show_update&gt;&lt;sys_class_name&gt;sys_ui_action&lt;/sys_class_name&gt;&lt;sys_created_by&gt;alealvar&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2022-05-19 01:30:03&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;22434be11ba30110be17a9b4bd4bcb80&lt;/sys_id&gt;&lt;sys_mod_count&gt;2&lt;/sys_mod_count&gt;&lt;sys_name&gt;Conflicts detection [Released]&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Update Set - Collision Detection Tool" source="a8cbf2ed1b630110be17a9b4bd4bcbf7"&gt;a8cbf2ed1b630110be17a9b4bd4bcbf7&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Update Set - Collision Detection Tool"&gt;a8cbf2ed1b630110be17a9b4bd4bcbf7&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ui_action_22434be11ba30110be17a9b4bd4bcb80&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;alealvar&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2022-05-19 01:32:29&lt;/sys_updated_on&gt;&lt;table&gt;sys_update_set&lt;/table&gt;&lt;ui11_compatible&gt;true&lt;/ui11_compatible&gt;&lt;ui16_compatible&gt;false&lt;/ui16_compatible&gt;&lt;/sys_ui_action&gt;&lt;/record_update&gt;</payload>
<payload_hash>-270252716</payload_hash>
<remote_update_set display_value="Update Set - Collision Detection Tool">ab1c848e1b562110c30243f8cd4bcbb9</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-04-20 14:27:27</sys_created_on>
<sys_id>af1c848e1b562110c30243f8cd4bcbbb</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1879f0fd6980000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-04-20 14:27:27</sys_updated_on>
<table>sys_update_set</table>
<target_name>Conflicts detection [Released]</target_name>
<type>UI Action</type>
<update_domain>global</update_domain>
<update_guid/>
<update_guid_history/>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Update Set - Collision Detection Tool">a8cbf2ed1b630110be17a9b4bd4bcbf7</application>
<category>customer</category>
<comments/>
<name>sys_properties_15ad72ed1b630110be17a9b4bd4bcb63</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_properties"><sys_properties action="INSERT_OR_UPDATE"><choices/><description>Exclude update sets in states completed / ignored</description><ignore_cache>true</ignore_cache><is_private>false</is_private><name>collision_detection.app_file.exclude_completed_ignored</name><read_roles/><suffix/><sys_class_name>sys_properties</sys_class_name><sys_created_by>alealvar</sys_created_by><sys_created_on>2022-05-19 01:02:46</sys_created_on><sys_id>15ad72ed1b630110be17a9b4bd4bcb63</sys_id><sys_mod_count>0</sys_mod_count><sys_name>collision_detection.app_file.exclude_completed_ignored</sys_name><sys_package display_value="Update Set - Collision Detection Tool" source="a8cbf2ed1b630110be17a9b4bd4bcbf7">a8cbf2ed1b630110be17a9b4bd4bcbf7</sys_package><sys_policy/><sys_scope display_value="Update Set - Collision Detection Tool">a8cbf2ed1b630110be17a9b4bd4bcbf7</sys_scope><sys_update_name>sys_properties_15ad72ed1b630110be17a9b4bd4bcb63</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-04-20 08:13:06</sys_updated_on><type>boolean</type><value>true</value><write_roles>admin</write_roles></sys_properties><sys_translated_text action="delete_multiple" query="documentkey=15ad72ed1b630110be17a9b4bd4bcb63"/></record_update>]]></payload>
<payload_hash>627869722</payload_hash>
<remote_update_set display_value="Update Set - Collision Detection Tool">ab1c848e1b562110c30243f8cd4bcbb9</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-04-20 14:27:27</sys_created_on>
<sys_id>e31c848e1b562110c30243f8cd4bcbba</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1879f0fd6110000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-04-20 14:27:27</sys_updated_on>
<table/>
<target_name>collision_detection.app_file.exclude_completed_ignored</target_name>
<type>System Property</type>
<update_domain>global</update_domain>
<update_guid/>
<update_guid_history/>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>DELETE</action>
<application display_value="Update Set - Collision Detection Tool">a8cbf2ed1b630110be17a9b4bd4bcbf7</application>
<category>customer</category>
<comments/>
<name>sys_ui_action_role_d4538b651ba30110be17a9b4bd4bcb9c</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ui_action_role"><sys_ui_action_role action="DELETE"><sys_class_name>sys_ui_action_role</sys_class_name><sys_created_by>alealvar</sys_created_by><sys_created_on>2022-05-19 01:30:03</sys_created_on><sys_id>d4538b651ba30110be17a9b4bd4bcb9c</sys_id><sys_mod_count>0</sys_mod_count><sys_name>.admin</sys_name><sys_package display_value="Update Set - Collision Detection Tool" source="a8cbf2ed1b630110be17a9b4bd4bcbf7">a8cbf2ed1b630110be17a9b4bd4bcbf7</sys_package><sys_policy/><sys_scope display_value="Update Set - Collision Detection Tool">a8cbf2ed1b630110be17a9b4bd4bcbf7</sys_scope><sys_ui_action display_value="Conflicts detection [Released]">22434be11ba30110be17a9b4bd4bcb80</sys_ui_action><sys_update_name>sys_ui_action_role_d4538b651ba30110be17a9b4bd4bcb9c</sys_update_name><sys_updated_by>alealvar</sys_updated_by><sys_updated_on>2022-05-19 01:30:03</sys_updated_on><sys_user_role display_value="admin" name="admin">2831a114c611228501d4ea6c309d626d</sys_user_role></sys_ui_action_role></record_update>]]></payload>
<payload_hash>-1438389459</payload_hash>
<remote_update_set display_value="Update Set - Collision Detection Tool">ab1c848e1b562110c30243f8cd4bcbb9</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-04-20 14:27:27</sys_created_on>
<sys_id>e71c848e1b562110c30243f8cd4bcbbc</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1879f0fd68e0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-04-20 14:27:27</sys_updated_on>
<table/>
<target_name>.admin</target_name>
<type>UI Action Role</type>
<update_domain>global</update_domain>
<update_guid/>
<update_guid_history/>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Update Set - Collision Detection Tool">a8cbf2ed1b630110be17a9b4bd4bcbf7</application>
<category>customer</category>
<comments/>
<name>sys_script_include_4bcc7aed1b630110be17a9b4bd4bcbb4</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;&lt;sys_script_include action="INSERT_OR_UPDATE"&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;active&gt;true&lt;/active&gt;&lt;api_name&gt;global.CollisionDetectionUtils&lt;/api_name&gt;&lt;caller_access/&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;description/&gt;&lt;name&gt;CollisionDetectionUtils&lt;/name&gt;&lt;script&gt;&lt;![CDATA[// Author: Alex Alvarez -- alexalvarez@mail.com

var CollisionDetectionUtils = Class.create();
CollisionDetectionUtils.prototype = {
    initialize: function () {

        this.APP_EXCLUDE_DEFAULT = gs.getProperty('collision_detection.app_file.exclude_default', 'false');
        this.APP_EXCLUDE_COMPLETED_IGNORED = gs.getProperty('collision_detection.app_file.exclude_completed_ignored', 'false');
        this.APP_EXCLUDE_MINE = gs.getProperty('collision_detection.app_file.exclude_your_own_sets', 'false');

        this.SET_EXCLUDE_DEFAULT = gs.getProperty('collision_detection.set.exclude_default', 'false');
        this.SET_EXCLUDE_BEFORE = gs.getProperty('collision_detection.set.exclude_updated_before', 'false');
    },

    /**SNDOC
        @name           fileScanner
        @description    Scans a developing object such as business rules or ACLs (understanding developing object 
                        as every object stored in a table extending sys_metadata table) searching for potential 
                        conflicts with other update set(s) (there might be a conflict between two update sets whenever 
                        both of them are updating the same developing object, in such case, promoting one of them might 
                        include some pieces of code belonging to the other update set). Uses a bunch of system properties 
                        to include/exclude certain conditions such as exclude/include update sets marked as default or in 
                        state ignore. Returns an array of objects representing a conflictive update set (object include 
                        information about the owner, link to the record, when it was created, etc.).
        @param          {GlideRecord} [grInputRecord] - Extending sys_metadata table
        @returns        {Array&lt;Object&gt;} [{name:'',owner:'',created:'',url:''},{...}]
    */
    fileScanner: function (grInputRecord) {
        var arrObjects = [];

        var grFileVersion = new GlideRecord('sys_update_version');
        grFileVersion.addQuery('name', grInputRecord.getValue('sys_update_name'));
        grFileVersion.addQuery('state', 'current');
        grFileVersion.orderByDesc('sys_created_on');
        grFileVersion.query();

        while (grFileVersion.next()) {

            var grUpdateSet = grFileVersion.source.getRefRecord();

            if (!grUpdateSet.isValidRecord()) {
                gs.logWarning('Invalid record: grUpdateSet =&gt; ' + JSON.stringify(grUpdateSet, null, 2), 'CollisionDetectionUtils.fileScanner()');
                continue;
            }

            var currentUser = gs.getUser().getName();
            var currentUpdateSet = gs.getPreference('sys_update_set');

            var updateSetName = grUpdateSet.getValue('name');
            var updateSetSysId = grUpdateSet.getUniqueValue();
            var updateSetState = grUpdateSet.getValue('state');
            var updateSetOwner = grUpdateSet.getValue('sys_created_by');
            var updateSetCreatedOn = grUpdateSet.getValue('sys_created_on');
            var updateSetLink = grUpdateSet.getLink();

            // Exclude default update set(s)
            if (this.APP_EXCLUDE_DEFAULT === 'true' &amp;&amp; updateSetName.toLowerCase().indexOf('default') === 0)
                continue;

            // Exclude completed/ignored update set(s)
            if (this.APP_EXCLUDE_COMPLETED_IGNORED === 'true' &amp;&amp; updateSetState !== 'in progress')
                continue;

            // Exclude your own update set(s)
            if (this.AAP_EXCLUDE_MINE === 'true' &amp;&amp; currentUser === updateSetOwner)
                continue;

            // Exclude current update set
            if (currentUpdateSet === updateSetSysId)
                continue;

            arrObjects.push({
                name: updateSetName,
                owner: updateSetOwner,
                created: updateSetCreatedOn,
                url: updateSetLink
            });
        }

        // Remove duplicate entries
        var uniqueArray = arrObjects.filter(function (item, pos) {
            return arrObjects.indexOf(item) == pos;
        });

        return uniqueArray;
    },

    /**SNDOC
        @name           setScanner
        @description    Scans an update set searching for potential conflics with other update set(s) 
                        (there might be a conflict between two update sets whenever both of them are updating 
                        the same developing object, in such case, promoting one of them might include some pieces 
                        of code belonging to the other update set). Uses a bunch of system properties to 
                        include/exclude certain conditions such as exclude/include update sets marked as default.
        @param          {GlideRecord} [currentUpdateSet] - sys_update_set
        @param          {String} [inputQuery] - Encoded query such as 'active=true^state=created'
        @returns        {Array&lt;String&gt;} sys_update_set.sys_id
    */
    setScanner: function (currentUpdateSet) {
        var currentUpdateSetId = currentUpdateSet.getUniqueValue();
        var arrSysIds = [];

        var arrCustomerUpdates = this._getCustomerUpdates(currentUpdateSetId);

        var grUpdateSet = new GlideRecord('sys_update_set');
        grUpdateSet.addNullQuery('release_date');
        grUpdateSet.addQuery('sys_id', '!=', currentUpdateSetId); // Exclude itself

        if (!currentUpdateSet.base_update_set.nil()) {
            var baseUpdateSetId = currentUpdateSet.getValue('base_update_set');
            var arrUpdateSetsInBatch = this._getUpdateSetsInBatch(baseUpdateSetId);
            grUpdateSet.addQuery('sys_id', 'NOTIN', arrUpdateSetsInBatch.toString());
        }

        // Exclude default
        if (this.SET_EXCLUDE_DEFAULT === 'true')
            grUpdateSet.addQuery('is_default', false);

        // Left join with customer updates tables
        var grCustomerUpdate = grUpdateSet.addJoinQuery('sys_update_xml');
        grCustomerUpdate.addOrCondition('name', arrCustomerUpdates.toString());

        grUpdateSet.query();

        while (grUpdateSet.next())
            arrSysIds.push(grUpdateSet.getUniqueValue());

        return arrSysIds;
    },

    /**SNDOC
        @name           _getCustomerUpdates
        @description    Return the customer updates (represented by the field name) for a given update set.
        @param          {String} [updateSetSysId] - sys_update_set.sys_id
        @returns        {Array&lt;String&gt;} sys_update_xml.name
        @private
    */
    _getCustomerUpdates: function (updateSetSysId) {
        var arrCustomerUpdates = [];

        new GlideQuery('sys_update_xml')
            .where('update_set', updateSetSysId)
            .select('name')
            .forEach(function (customerUpdate) {
                arrCustomerUpdates.push(customerUpdate.name);
            });

        return arrCustomerUpdates;
    },

    /**SNDOC
        @name           _getUpdateSetsInBatch
        @description    Return the list of update sets in a batch given the base update set
        @param          {String} [baseUpdateSetId] - sys_update_set.sys_id
        @returns        {Array&lt;String&gt;} sys_update_set.sys_id
        @private
    */
    _getUpdateSetsInBatch: function (baseUpdateSetId) {
        var arrUpdateSetsInBatch = [];
        new GlideQuery('sys_update_set')
            .where('base_update_set', baseUpdateSetId)
            .forEach(function (updateSet) {
                arrUpdateSetsInBatch.push(updateSet.sys_id);
            });

        return arrUpdateSetsInBatch;
    },

    type: 'CollisionDetectionUtils'
};]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;&lt;sys_created_by&gt;alealvar&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2022-05-19 00:58:35&lt;/sys_created_on&gt;&lt;sys_id&gt;4bcc7aed1b630110be17a9b4bd4bcbb4&lt;/sys_id&gt;&lt;sys_mod_count&gt;7&lt;/sys_mod_count&gt;&lt;sys_name&gt;CollisionDetectionUtils&lt;/sys_name&gt;&lt;sys_package display_value="Update Set - Collision Detection Tool" source="a8cbf2ed1b630110be17a9b4bd4bcbf7"&gt;a8cbf2ed1b630110be17a9b4bd4bcbf7&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Update Set - Collision Detection Tool"&gt;a8cbf2ed1b630110be17a9b4bd4bcbf7&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_include_4bcc7aed1b630110be17a9b4bd4bcbb4&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2023-04-20 10:32:52&lt;/sys_updated_on&gt;&lt;/sys_script_include&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1402355644</payload_hash>
<remote_update_set display_value="Update Set - Collision Detection Tool">ab1c848e1b562110c30243f8cd4bcbb9</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-04-20 14:27:27</sys_created_on>
<sys_id>eb1c848e1b562110c30243f8cd4bcbbb</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1879f0fd6b70000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-04-20 14:27:27</sys_updated_on>
<table/>
<target_name>CollisionDetectionUtils</target_name>
<type>Script Include</type>
<update_domain>global</update_domain>
<update_guid/>
<update_guid_history/>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Update Set - Collision Detection Tool">a8cbf2ed1b630110be17a9b4bd4bcbf7</application>
<category>customer</category>
<comments/>
<name>sys_properties_acc0cb251ba30110be17a9b4bd4bcbb0</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_properties"><sys_properties action="INSERT_OR_UPDATE"><choices/><description>Enable / disable the feature</description><ignore_cache>true</ignore_cache><is_private>false</is_private><name>collision_detection.app_file.active</name><read_roles/><suffix/><sys_class_name>sys_properties</sys_class_name><sys_created_by>alealvar</sys_created_by><sys_created_on>2022-05-19 01:16:16</sys_created_on><sys_id>acc0cb251ba30110be17a9b4bd4bcbb0</sys_id><sys_mod_count>0</sys_mod_count><sys_name>collision_detection.app_file.active</sys_name><sys_package display_value="Update Set - Collision Detection Tool" source="a8cbf2ed1b630110be17a9b4bd4bcbf7">a8cbf2ed1b630110be17a9b4bd4bcbf7</sys_package><sys_policy/><sys_scope display_value="Update Set - Collision Detection Tool">a8cbf2ed1b630110be17a9b4bd4bcbf7</sys_scope><sys_update_name>sys_properties_acc0cb251ba30110be17a9b4bd4bcbb0</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-04-20 08:13:07</sys_updated_on><type>boolean</type><value>true</value><write_roles>admin</write_roles></sys_properties><sys_translated_text action="delete_multiple" query="documentkey=acc0cb251ba30110be17a9b4bd4bcbb0"/></record_update>]]></payload>
<payload_hash>-1305737446</payload_hash>
<remote_update_set display_value="Update Set - Collision Detection Tool">ab1c848e1b562110c30243f8cd4bcbb9</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-04-20 14:27:27</sys_created_on>
<sys_id>ef1c848e1b562110c30243f8cd4bcbba</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1879f0fd6510000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-04-20 14:27:27</sys_updated_on>
<table/>
<target_name>collision_detection.app_file.active</target_name>
<type>System Property</type>
<update_domain>global</update_domain>
<update_guid/>
<update_guid_history/>
<update_set display_value=""/>
<view/>
</sys_update_xml>
</unload>
